(function(){function t(e,r){if({}.hasOwnProperty.call(t.cache,e))return t.cache[e];if("function"==typeof r)return void t.load(e,r);var n=t.resolve(e);if(!n)throw new Error("Failed to resolve module "+e);var i={id:e,require:t,filename:e,exports:{},loaded:!1,parent:null,children:[]},s=e.slice(0,e.lastIndexOf("/")+1);return t.cache[e]=i.exports,n.call(i.exports,i,i.exports,s,e),i.loaded=!0,t.cache[e]=i.exports}t.modules={},t.cache={},t.resolve=function(e){return{}.hasOwnProperty.call(t.modules,e)?t.modules[e]:void 0},t.define=function(e,r){t.modules[e]=r},t.define("./app",function(e){var r,n,i,s={}.hasOwnProperty,o=function(t,e){function r(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=t("./model-emitter"),i=t("./route"),r=function(t){function e(t){null==t&&(t={}),e.__super__.constructor.apply(this,arguments),this._routes={},this.views=[]}return o(e,t),e.prototype.addRoute=function(t,e){var r;return null==(r=this._routes[t])&&(r=new i(t)),null==r.callbacks&&(r.callbacks=[]),r.callbacks.push(e),this._routes[t]=r},e.prototype.setupRoutes=function(){var t,e,r,n,i,s;s=this.routes;for(e in s)if(r=s[e],Array.isArray(r))for(n=0,i=r.length;i>n;n++)t=r[n],this.addRoute(e,t);else this.addRoute(e,r);return null},e.prototype.dispatchRoutes=function(){var t,e,r,n,i,s,o;s=this._routes;for(r in s)if(e=s[r],e.regexp.test(location.pathname))for(o=e.callbacks,n=0,i=o.length;i>n;n++)(t=o[n])();return null},e.prototype.route=function(){return this.setupRoutes(),this.dispatchRoutes()},e}(n),e.exports=r}),t.define("./model-emitter",function(e){var r,n,i,s={}.hasOwnProperty,o=function(t,e){function r(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=t("./model"),r=t("./event-emitter"),i=function(t){function e(t){null==t&&(t={}),this.emitter=new r,this.debug&&(this.emitter.debug=!0),e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.on=function(){return this.emitter.on.apply(this.emitter,arguments)},e.prototype.off=function(){return this.emitter.off.apply(this.emitter,arguments)},e.prototype.emit=function(){return this.emitter.emit.apply(this.emitter,arguments)},e}(n),e.exports=i}),t.define("./model",function(t){var e;e=function(){function t(t){var e,r;null==t&&(t={}),this.state={},this.setDefaults(),this.transform();for(e in t)r=t[e],this.set(e,r)}return t.prototype.defaults={},t.prototype.validators={},t.prototype.transforms={},t.prototype.setDefaults=function(){var t,e,r;r=this.defaults;for(t in r)e=r[t],this.state[t]=e;return this},t.prototype.validate=function(t,e){var r;return null==t?this.validateAll():null==(r=this.validators[t])?!0:(null==e&&(e=this.state[t]),r.call(this,e,t))},t.prototype.validateAll=function(){var t;for(t in this.validators)if(!this.validate(t))return!1;return!0},t.prototype.transform=function(t,e){var r;return null==t?this.transformAll():null==(r=this.transforms[t])?e:null!=e?r.call(this,e,t):this.state[t]=r.call(this,this.state[t],t)},t.prototype.transformAll=function(){var t;for(t in this.transforms)this.transform(t);return this},t.prototype.get=function(t){return this.state[t]},t.prototype.set=function(t,e){return this.validate(t,e)?(this.state[t]=this.transform(t,e),!0):!1},t.prototype.remove=function(t){return this.state[t]=void 0},t.prototype.update=function(t){var e,r,n;r=!0;for(e in t)n=t[e],this.set(e,n)||(r=!1);return r},t}(),t.exports=e}),t.define("./event-emitter",function(t){var e,r=[].slice;e=function(){function t(t){var e;null==t&&(t={}),this.debug=null!=(e=t.debug)?e:!1,this._listeners={},this._allListeners=[]}return t.prototype.addListener=function(t,e){var r;return t?(null==(r=this._listeners)[t]&&(r[t]=[]),this._listeners[t].push(e),this._listeners[t].length-1):(this._allListeners.push(e),this._allListeners.length-1)},t.prototype.removeListener=function(t,e){return t?void(null!=e?this._listeners[t][e]=null:this._listeners[t]={}):this.removeAllListeners()},t.prototype.removeAllListeners=function(){this._listeners={}},t.prototype.on=function(){return this.addListener.apply(this,arguments)},t.prototype.off=function(){return this.removeListener.apply(this,arguments)},t.prototype.emit=function(){var t,e,n,i,s,o,u,l,a;for(e=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],i=this._listeners[e]||[],s=0,u=i.length;u>s;s++)n=i[s],null!=n&&n.apply(this,t);for(t.unshift(e),a=this._allListeners,o=0,l=a.length;l>o;o++)n=a[o],n.apply(this,t);return this.debug?console.log.apply(console,t):void 0},t}(),t.exports=e}),t.define("./route",function(e){var r,n;n=t("path-to-regexp"),r=function(){function t(t,e){null==e&&(e={}),this.path="*"===t?"(.*)":t,this.keys=[],this.regexp=n(this.path,this.keys,e.sensitive,e.strict)}return t}(),e.exports=r}),t.define("path-to-regexp",function(t){function e(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function r(t,s,o){s&&!Array.isArray(s)&&(o=s,s=null),s=s||[],o=o||{};var u=o.strict,l=o.end!==!1,a=o.sensitive?"":"i",p=0;if(t instanceof RegExp){var h=t.source.match(/\((?!\?)/g)||[];return s.push.apply(s,h.map(function(t,e){return{name:e,delimiter:null,optional:!1,repeat:!1}})),i(t,s)}if(Array.isArray(t))return t=t.map(function(t){return r(t,s,o).source}),i(new RegExp("(?:"+t.join("|")+")",a),s);t=t.replace(n,function(t,r,n,i,o,u,l,a){if(r)return r;if(a)return"\\"+a;var h="+"===l||"*"===l,c="?"===l||"*"===l;return s.push({name:i||p++,delimiter:n||"/",optional:c,repeat:h}),n=n?"\\"+n:"",o=e(o||u||"[^"+(n||"\\/")+"]+?"),h&&(o=o+"(?:"+n+o+")*"),c?"(?:"+n+"("+o+"))?":n+"("+o+")"});var c="/"===t[t.length-1];return u||(t=(c?t.slice(0,-2):t)+"(?:\\/(?=$))?"),l||(t+=u&&c?"":"(?=\\/|$)"),i(new RegExp("^"+t+(l?"$":""),a),s)}t.exports=r;var n=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g"),i=function(t,e){return t.keys=e,t}}),t.define("./view",function(e){var r,n=[].slice;r=function(){function e(t){var e,r,n,i,s,o,u,l,a,p;for(null==t&&(t={}),null==this.el&&(this.el=t.el),this.id=this._nextId(this.constructor.name),this.state=null!=(a=t.state)?a:{},this._events={},this._targets={},this._watchers={},p=this.watching,r=s=0,u=p.length;u>s;r=++s)for(n=p[r],Array.isArray(r)||(r=[r]),o=0,l=r.length;l>o;o++)e=r[o],null==(i=this._watchers)[e]&&(i[e]=[]),this._watchers[e].push(n);this.el=this.$el=this._getEl(t),this._cacheTargets()}return e.prototype.el=null,e.prototype.bindings={},e.prototype.computed={},e.prototype.events={},e.prototype.formatters={},e.prototype.watching={},e.prototype.mutators=t("./mutators"),e.prototype._getEl=function(t){return t.$el?t.$el:$(this.template?$(this.template).html():this.html?this.html:this.el)},e.prototype._nextId=function(){var t;return t=0,function(e){var r;return r=++t+"",null!=e?e:e+r}}(),e.prototype._cacheTargets=function(){var t,e,r,n,i,s,o;s=this.bindings,o=[];for(e in s)i=s[e],Array.isArray(i)||(i=[i]),o.push(function(){var e,s,o,u;for(u=[],e=0,s=i.length;s>e;e++)n=i[e],o=this._splitTarget(n),r=o[0],t=o[1],u.push(null==this._targets[r]?this._targets[r]=this.$el.find(r):void 0);return u}.call(this));return o},e.prototype._computeComputed=function(t){var e,r,n,i,s,o,u,l,a;for(e=[],a=this.watching[t],s=0,u=a.length;u>s;s++)for(r=a[s],Array.isArray(r)||(r=[r]),o=0,l=r.length;l>o;o++)n=r[o],e.push(this.state[n]);return i=this.computed[t].apply(this,e)},e.prototype._mutateDom=function(t,e,r){var n,i;(n=null!=(i=this.mutators[e])?i:this.mutators.attr)(this._targets[t],e,r)},e.prototype._renderBindings=function(t,e){var r,n,i,s,o,u,l,a,p;for(null!=this.computed[t]&&(e=this._computeComputed(t)),o=this.bindings[t],Array.isArray(o)||(o=[o]),u=0,l=o.length;l>u;u++)s=o[u],a=this._splitTarget(s),i=a[0],r=a[1],p=null!=(n=this.formatters[t])?n.call(this,e,""+i+" @"+r):e,this._mutateDom(i,r,p)},e.prototype._splitEvent=function(t){var e,r,i,s;if(s=t.split(/\s+/),r=s[0],i=2<=s.length?n.call(s,1):[],i=i.join(" "),!i)return e=this.$el,[e,r];switch(i){case"document":e=$(document);break;case"window":e=$(window);break;default:e=this.$el.find(i)}return[e,r]},e.prototype._splitTarget=function(t){var e,r,n,i;return t.indexOf(!0)?(n=t.split(/\s+@/),r=n[0],e=n[1]):(i=[t,null],r=i[0],e=i[1]),null==e&&(e="text"),[r,e]},e.prototype.get=function(t){return this.state[t]},e.prototype.set=function(t,e){var r,n,i,s,o;if(this.state[t]=e,null!=this.bindings[t]&&this._renderBindings(t,e),null!=(n=this._watchers[t])){for(o=[],i=0,s=n.length;s>i;i++)r=n[i],o.push(this._renderBindings(r));return o}},e.prototype.render=function(t){var e,r,n,i,s;if(null!=t)for(e in t)i=t[e],this.set(e,i);else{s=this.bindings;for(r in s)n=s[r],this._renderBindings(r,this.state[r])}return this},e.prototype.bindEvent=function(t,e){var r,n,i;return i=this._splitEvent(t),r=i[0],n=i[1],"string"==typeof e&&(e=this[e]),r.on(""+n+"."+this.id,function(t){return function(r){return e.call(t,r,r.currentTarget)}}(this)),this},e.prototype.unbindEvent=function(t){var e,r,n;return n=this._splitEvent(t),e=n[0],r=n[1],e.off(""+r+"."+this.id),this},e.prototype.bind=function(){var t,e,r;r=this.events;for(e in r)t=r[e],this.bindEvent(e,t);return this},e.prototype.unbind=function(){var t,e,r;r=this.events;for(e in r)t=r[e],this.unbindEvent(e,t);return this},e.prototype.remove=function(){return this.$el.remove()},e}(),e.exports=r}),t.define("./mutators",function(t){var e,r,n,i,s,o;e=function(t,e,r){return t.attr(e,r)},r=function(t,e,r){return t.prop("checked",r)},n=function(t,e,r){var n;return null==(n=t.data("mvstar-original-classes"))&&(n=t.attr("class"),t.data("mvstar-original-classes",n)),t.removeClass(),t.addClass(""+n+" "+r)},i=function(t,e,r){return t.prop("selectedIndex",r)},s=function(t,e,r){return t.text(r)},o=function(t,e,r){return t.val(r)},t.exports={attr:e,checked:r,"class":n,index:i,selectedIndex:i,text:s,value:o}}),t.define("./view-emitter",function(e){var r,n,i,s={}.hasOwnProperty,o=function(t,e){function r(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=t("./view"),r=t("./event-emitter"),i=function(t){function e(t){null==t&&(t={}),this.emitter=new r,this.debug&&(this.emitter.debug=!0),e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.on=function(){return this.emitter.on.apply(this,arguments)},e.prototype.off=function(){return this.emitter.off.apply(this,arguments)},e.prototype.emit=function(){return this.emitter.emit.apply(this,arguments)},e}(n),e.exports=i}),t.define("./index",function(e){e.exports={App:t("./app"),EventEmitter:t("./event-emitter"),Route:t("./route"),Model:t("./model"),ModelEmitter:t("./model-emitter"),View:t("./view"),ViewEmitter:t("./view-emitter")}}),t("./index")}).call(this,this);